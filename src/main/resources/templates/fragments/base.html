<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">

<head th:fragment="common_head(title)">
    <!--параметризированый фрагмент-->
    <title th:replace="${title}">The awesome application</title>
    <!-- Common styles and scripts -->
    <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"
                                        th:href="@{/css/bootstrap.min.css}">

    <link rel="shortcut icon" th:href="@{/images/icon.png}">

    <!--/* Per-page placeholder for additional links */-->
   <!-- <th:block th:replace="${links}"/>-->
    <!--th:block -  единственный элементный процессор (а не атрибут), включенный в стандартные диалекты-->
    <!--th: block - это простой контейнер атрибутов, который позволяет разработчикам
     шаблонов указывать какие атрибуты они хотят.
      Thymeleaf выполнит эти атрибуты, а затем просто сделает блок незаметным.-->
</head>
<body>
<div th:fragment="header">
    <nav class="navbar navbar-inverse">
        <div class="container">
            <div class="navbar-header">
                <a class="navbar-brand" th:href="@{/}">Complete</a>
            </div>
            <div id="navbar" class="collapse navbar-collapse">
                <ul class="nav navbar-nav">
                    <li class="active"><a th:href="@{/}">Home</a></li>
                </ul>
            </div>
        </div>
    </nav>
</div>

<div th:fragment="footer"><!--id фрагмента-->
    <!--th:fragment - часть, которая будет повторятся на всех страницах.
     Например - footer, header. -->
    <div class="container">
        <footer>
                <span sec:authorize="isAuthenticated()">
                    <!--Атрибут sec: authorize отображает его содержимое,
                     когда выражение атрибута оценивается как true:-->
                    <!--  isAuthenticated() этот блок показывается только аутентифицированым пользователям-->
                    <!--  "hasRole('ROLE_ADMIN')" этот блок показывается только пользователям c ролью 'ROLE_ADMIN'-->
                    Logged user: <span sec:authentication="name"></span>|
                    <!--sec:authentication - используется для отображения имени залогиневшегося и его роли-->
                    Roles: <span sec:authentication="principal.authorities"></span>
                    <a th:href="@{/logout}">Sing Out</a>
                </span>
        </footer>
    </div>
</div>

<div th:fragment="scripts">
    <script type="text/javascript" src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"
            th:src="@{/js/bootstrap.min.js}"></script>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"
            th:src="@{/js/jquery-3.3.1.min.js}"></script>
</div>
</body>
</html>